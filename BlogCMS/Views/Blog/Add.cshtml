@using BlogCMS.Model
@model AddPostVM
@{
    ViewBag.Title = "Add";
}

<h2>Add a post</h2>

<head>
    <script src="//tinymce.cachefly.net/4.2/tinymce.min.js"></script>
    <script type="text/javascript">
        tinymce.init({
            selector: "#mytextarea"
        });
    </script>
</head>
<body>

    @using (Html.BeginForm("AddBlog", "Blog", FormMethod.Post))
    {
        <label>Title</label>@Html.ValidationMessageFor(m => m.BlogPost.Title)
        @Html.TextBoxFor(m => m.BlogPost.Title, new { @class = "form-control" })
        <br>
        <label>Author First Name</label>@Html.ValidationMessageFor(m => m.BlogPost.FirstName)
        @Html.TextBoxFor(m => m.BlogPost.FirstName, new { @class = "form-control" })
        <br>
        <label>Author Last Name</label>@Html.ValidationMessageFor(m => m.BlogPost.LastName)
        @Html.TextBoxFor(m => m.BlogPost.LastName, new { @class = "form-control" })

        <label>Category</label>
        @Html.DropDownListFor(m => m.BlogPost.CategoryId, Model.CategoryList, "Select a Category", new { @class = "form-control" })


        <br>@Html.ValidationMessageFor(m => m.BlogPost.Content)
        <label>Image URL</label>@Html.ValidationMessageFor(m => m.BlogPost.ImageURL)
        @Html.TextBoxFor(m => m.BlogPost.ImageURL, new { @class = "form-control" })
        <br>
        @Html.TextAreaFor(m => m.BlogPost.Content, new { @id = "mytextarea" })
        @*<textarea id="mytextarea"></textarea>*@
        <button class="btn btn-primary" id="Send">Add</button>

        @*<input type="submit" id="Send" />*@

    }
</body>

<script>
 $('#btnSave').click( function(){
        tinyMCE.triggerSave(true,true);
        $('#Send').submit();
 });
</script>